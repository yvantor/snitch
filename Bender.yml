# Copyright 2020 ETH Zurich and University of Bologna.
# Solderpad Hardware License, Version 0.51, see LICENSE for details.
# SPDX-License-Identifier: SHL-0.51
package:
  name: snitch
  authors:
  - Florian Zaruba <zarubaf@iis.ee.ethz.ch>
  - Fabian Schuiki <fschuiki@iis.ee.ethz.ch>

dependencies:
  axi: {git: https://github.com/pulp-platform/axi.git, rev: v0.39.0-beta.4}
  common_cells: {git: https://github.com/pulp-platform/common_cells.git, rev: v1.28.0}
  FPnew: {git: https://github.com/openhwgroup/cvfpu.git, rev: 1202ca3a767b563bca5de505574373e53941506f}
  reqrsp_interface: {git: "https://github.com/yvantor/reqrsp_interface.git", rev: main }
  riscv-dbg: {git: https://github.com/pulp-platform/riscv-dbg.git, rev: ec0d92fa5fdaaf611e5b8a4cc8ee84017ff98710}

export_include_dirs:
- include

sources:
# Level 0:
- rtl/src/snitch_pma_pkg.sv
- rtl/src/riscv_instr.sv
# Level 1:
- rtl/src/snitch_pkg.sv
# Level 2:
- rtl/src/snitch_regfile_ff.sv
# - src/snitch_regfile_fpga.sv
# - src/snitch_regfile_latch.sv
- rtl/src/snitch_lsu.sv
- rtl/src/snitch_l0_tlb.sv
# Level 1:
- target: not(disable_pmcs)
  defines:
    SNITCH_ENABLE_PERF:
  files:
  - rtl/src/snitch.sv
# Disable the performance monitoring counters to save area.
- target: disable_pmcs
  files:
  - rtl/src/snitch.sv

- target: test
  files:
  - rtl/test/snitch_l0_tlb_tb.sv
